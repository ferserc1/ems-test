const loadScript = () => {
    return new Promise((resolve) => {
        const script = document.createElement('script');
        script.type = "text/javascript";
        script.src = "fib.js";
        script.onload = script.onreadystatechange = function() {
            resolve();
        };
        document.head.appendChild(script);
    })
};


loadScript().then(() => {
    FibModule().then(instance => {
        console.log(`fib(12) = ${instance._fib(12)}`);
        instance._fib2();

        // Pasar un string desde JavaScript
        const message = "This string is passed from JS to C";
        const messagePtr = instance.allocate(instance.intArrayFromString(message), instance.ALLOC_NORMAL);
        instance._printString(messagePtr,1);
        instance._printString(messagePtr,2);
        instance._printString(messagePtr,3);
        instance._free(messagePtr); // Todo lo que hagamos con allocate hay que liberarlo después, cuando no se use
        
        // O también se puede pasar así
        instance.ccall('printString',null,['string','number'],[message, 5]);


        // Recoger un string en JavaScript desde C:
        // Es más sencillo con ccall(), porque ya le estamos diciendo al runtime que queremos obtener
        // un string. Pero aquí tenemos un memory leak (ver el código en C), ya que getString reserva
        // la cadena de texto en el heap y ese string ya no se va a borrar
        const stringFromC = instance.ccall('getString','string',[]);
        console.log(stringFromC);


        // Podemos obtener el string directamente del heap con HEAPU8, pero no sabemos el tamñao del string, así
        // que hay que recorrerlo byte a byte. Otra opción es recorrerlo en trozos, que será más rápido, y así
        // buscar el caracter de fin de cadena
        const strPtr = instance._getString();
        let done = false;
        let offset = 0;
        const chunkSize = 10;
        let stringFromC2 = "";
        while (!done) {
            const chunk = new Uint8Array(instance.HEAPU8.buffer, strPtr + offset, chunkSize);
            const text = new TextDecoder().decode(chunk);
            const endl = text.indexOf('\0');
            if (endl != -1) {
                done = true;
                stringFromC2 += text.substring(0,endl);
            }
            else {
                stringFromC2 += text;
            }
            offset += chunkSize;
        }
        console.log(stringFromC2);
        instance._free(strPtr); // Ahora ya podemos borrar el puntero
        

        // Prueba de estructura de datos compleja
        // Los datos en C tienen esta forma;
        //  {
        //      float number;
        //      int * intArray;
        //      int arraySize;
        //  }
        const structPtr = instance._getComplexData();
        // float + int ptr + int = 4 bytes + 4 bytes + 4 bytes
        const structFloatPtr = structPtr;
        const structIntArrayPtrPtr = structPtr + 4;
        const structArraySizePtr = structPtr + 8;

        const structFloat = new Float32Array(instance.HEAPU8.buffer, structFloatPtr, 1)[0];
        const structIntArrayPtr = new Uint32Array(instance.HEAPU8.buffer, structIntArrayPtrPtr, 1)[0];
        const structArraySize = new Int32Array(instance.HEAPU8.buffer, structArraySizePtr, 1)[0];

        const structIntArray = new Int32Array(instance.HEAPU8.buffer, structIntArrayPtr, structArraySize);

        console.log(`Struct float value: ${structFloat}`);
        console.log(structIntArray);
        console.log(`Struct array length: ${structArraySize}`);

        // Todo lo que se reserva en C tiene que borrarse. Si no se va a borrar en C, hay
        // que borrarlo en JS
        instance._free(structIntArrayPtr);  // El puntero al array, se crea con malloc(sizeof(int) *  arraySize)
        instance._free(structPtr); // El struct se crea con new ComplexData
        
        // En este ejemplo, se obtiene un array desde C. Usamos la técnica de devolver
        // en el primer elemento del array, el tamaño del mismo. En este caso es
        // un array de floats
        const testArrayPtr = instance._getArrayTest(30, 2 * 3.141592);
        const testArraySize = new Float32Array(instance.HEAPU8.buffer, testArrayPtr, 1)[0];
        const testArray = new Float32Array(instance.HEAPU8.buffer, testArrayPtr + 4, testArraySize);
        console.log(`test array length: ${testArraySize}`);
        console.log(testArray);

        // En C el array se reserva con malloc(sizeof(float) * (size + 1))
        instance._free(testArrayPtr);

        const fArrayPtr = instance._getFloatArray(50, 1.33);
        const fArraySize = new Int32Array(instance.HEAPU8.buffer, fArrayPtr, 1)[0];
        const fArrayDataPtr = new Uint32Array(instance.HEAPU8.buffer, fArrayPtr + 4, 1)[0];
        const fArrayData = new Float32Array(instance.HEAPU8.buffer, fArrayDataPtr, fArraySize);

        console.log(fArrayData);

        instance._freeFloatArray(fArrayPtr);

        const jsArray = [3.4, 5.5, 7.43, 9.09, 0.122, 34.18];
        const jsTypedArray = new Float32Array(jsArray);
        const jsToCPtr = instance._malloc(jsTypedArray.length * jsTypedArray.BYTES_PER_ELEMENT);
        instance.HEAPF32.set(jsTypedArray, jsToCPtr / 4);
        instance._printFloatArray(jsToCPtr, jsArray.length);
        instance._free(jsToCPtr);

    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicm9sbHVwLXdhc20uanMiLCJzb3VyY2VzIjpbIi4uL3NyYy9qcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmNvbnN0IGxvYWRTY3JpcHQgPSAoKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgIGNvbnN0IHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgICAgICBzY3JpcHQudHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI7XG4gICAgICAgIHNjcmlwdC5zcmMgPSBcImZpYi5qc1wiO1xuICAgICAgICBsZXQgbG9hZGVkID0gZmFsc2U7XG4gICAgICAgIHNjcmlwdC5vbmxvYWQgPSBzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBsb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAgICB9KVxufVxuXG5cbmxvYWRTY3JpcHQoKS50aGVuKCgpID0+IHtcbiAgICBGaWJNb2R1bGUoKS50aGVuKGluc3RhbmNlID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coYGZpYigxMikgPSAke2luc3RhbmNlLl9maWIoMTIpfWApO1xuICAgICAgICBpbnN0YW5jZS5fZmliMigpO1xuXG4gICAgICAgIC8vIFBhc2FyIHVuIHN0cmluZyBkZXNkZSBKYXZhU2NyaXB0XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBcIlRoaXMgc3RyaW5nIGlzIHBhc3NlZCBmcm9tIEpTIHRvIENcIjtcbiAgICAgICAgY29uc3QgbWVzc2FnZVB0ciA9IGluc3RhbmNlLmFsbG9jYXRlKGluc3RhbmNlLmludEFycmF5RnJvbVN0cmluZyhtZXNzYWdlKSwgaW5zdGFuY2UuQUxMT0NfTk9STUFMKTtcbiAgICAgICAgaW5zdGFuY2UuX3ByaW50U3RyaW5nKG1lc3NhZ2VQdHIsMSk7XG4gICAgICAgIGluc3RhbmNlLl9wcmludFN0cmluZyhtZXNzYWdlUHRyLDIpO1xuICAgICAgICBpbnN0YW5jZS5fcHJpbnRTdHJpbmcobWVzc2FnZVB0ciwzKTtcbiAgICAgICAgaW5zdGFuY2UuX2ZyZWUobWVzc2FnZVB0cik7IC8vIFRvZG8gbG8gcXVlIGhhZ2Ftb3MgY29uIGFsbG9jYXRlIGhheSBxdWUgbGliZXJhcmxvIGRlc3B1w6lzLCBjdWFuZG8gbm8gc2UgdXNlXG4gICAgICAgIFxuICAgICAgICAvLyBPIHRhbWJpw6luIHNlIHB1ZWRlIHBhc2FyIGFzw61cbiAgICAgICAgaW5zdGFuY2UuY2NhbGwoJ3ByaW50U3RyaW5nJyxudWxsLFsnc3RyaW5nJywnbnVtYmVyJ10sW21lc3NhZ2UsIDVdKTtcblxuXG4gICAgICAgIC8vIFJlY29nZXIgdW4gc3RyaW5nIGVuIEphdmFTY3JpcHQgZGVzZGUgQzpcbiAgICAgICAgLy8gRXMgbcOhcyBzZW5jaWxsbyBjb24gY2NhbGwoKSwgcG9ycXVlIHlhIGxlIGVzdGFtb3MgZGljaWVuZG8gYWwgcnVudGltZSBxdWUgcXVlcmVtb3Mgb2J0ZW5lclxuICAgICAgICAvLyB1biBzdHJpbmcuIFBlcm8gYXF1w60gdGVuZW1vcyB1biBtZW1vcnkgbGVhayAodmVyIGVsIGPDs2RpZ28gZW4gQyksIHlhIHF1ZSBnZXRTdHJpbmcgcmVzZXJ2YVxuICAgICAgICAvLyBsYSBjYWRlbmEgZGUgdGV4dG8gZW4gZWwgaGVhcCB5IGVzZSBzdHJpbmcgeWEgbm8gc2UgdmEgYSBib3JyYXJcbiAgICAgICAgY29uc3Qgc3RyaW5nRnJvbUMgPSBpbnN0YW5jZS5jY2FsbCgnZ2V0U3RyaW5nJywnc3RyaW5nJyxbXSk7XG4gICAgICAgIGNvbnNvbGUubG9nKHN0cmluZ0Zyb21DKTtcblxuXG4gICAgICAgIC8vIFBvZGVtb3Mgb2J0ZW5lciBlbCBzdHJpbmcgZGlyZWN0YW1lbnRlIGRlbCBoZWFwIGNvbiBIRUFQVTgsIHBlcm8gbm8gc2FiZW1vcyBlbCB0YW3DsWFvIGRlbCBzdHJpbmcsIGFzw61cbiAgICAgICAgLy8gcXVlIGhheSBxdWUgcmVjb3JyZXJsbyBieXRlIGEgYnl0ZS4gT3RyYSBvcGNpw7NuIGVzIHJlY29ycmVybG8gZW4gdHJvem9zLCBxdWUgc2Vyw6EgbcOhcyByw6FwaWRvLCB5IGFzw61cbiAgICAgICAgLy8gYnVzY2FyIGVsIGNhcmFjdGVyIGRlIGZpbiBkZSBjYWRlbmFcbiAgICAgICAgY29uc3Qgc3RyUHRyID0gaW5zdGFuY2UuX2dldFN0cmluZygpO1xuICAgICAgICBsZXQgZG9uZSA9IGZhbHNlO1xuICAgICAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICAgICAgY29uc3QgY2h1bmtTaXplID0gMTA7XG4gICAgICAgIGxldCBzdHJpbmdGcm9tQzIgPSBcIlwiO1xuICAgICAgICB3aGlsZSAoIWRvbmUpIHtcbiAgICAgICAgICAgIGNvbnN0IGNodW5rID0gbmV3IFVpbnQ4QXJyYXkoaW5zdGFuY2UuSEVBUFU4LmJ1ZmZlciwgc3RyUHRyICsgb2Zmc2V0LCBjaHVua1NpemUpO1xuICAgICAgICAgICAgY29uc3QgdGV4dCA9IG5ldyBUZXh0RGVjb2RlcigpLmRlY29kZShjaHVuayk7XG4gICAgICAgICAgICBjb25zdCBlbmRsID0gdGV4dC5pbmRleE9mKCdcXDAnKTtcbiAgICAgICAgICAgIGlmIChlbmRsICE9IC0xKSB7XG4gICAgICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgc3RyaW5nRnJvbUMyICs9IHRleHQuc3Vic3RyaW5nKDAsZW5kbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdHJpbmdGcm9tQzIgKz0gdGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9mZnNldCArPSBjaHVua1NpemU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2coc3RyaW5nRnJvbUMyKVxuICAgICAgICBpbnN0YW5jZS5fZnJlZShzdHJQdHIpOyAvLyBBaG9yYSB5YSBwb2RlbW9zIGJvcnJhciBlbCBwdW50ZXJvXG4gICAgICAgIFxuXG4gICAgICAgIC8vIFBydWViYSBkZSBlc3RydWN0dXJhIGRlIGRhdG9zIGNvbXBsZWphXG4gICAgICAgIC8vIExvcyBkYXRvcyBlbiBDIHRpZW5lbiBlc3RhIGZvcm1hO1xuICAgICAgICAvLyAge1xuICAgICAgICAvLyAgICAgIGZsb2F0IG51bWJlcjtcbiAgICAgICAgLy8gICAgICBpbnQgKiBpbnRBcnJheTtcbiAgICAgICAgLy8gICAgICBpbnQgYXJyYXlTaXplO1xuICAgICAgICAvLyAgfVxuICAgICAgICBjb25zdCBzdHJ1Y3RQdHIgPSBpbnN0YW5jZS5fZ2V0Q29tcGxleERhdGEoKTtcbiAgICAgICAgLy8gZmxvYXQgKyBpbnQgcHRyICsgaW50ID0gNCBieXRlcyArIDQgYnl0ZXMgKyA0IGJ5dGVzXG4gICAgICAgIGNvbnN0IHN0cnVjdEZsb2F0UHRyID0gc3RydWN0UHRyO1xuICAgICAgICBjb25zdCBzdHJ1Y3RJbnRBcnJheVB0clB0ciA9IHN0cnVjdFB0ciArIDQ7XG4gICAgICAgIGNvbnN0IHN0cnVjdEFycmF5U2l6ZVB0ciA9IHN0cnVjdFB0ciArIDg7XG5cbiAgICAgICAgY29uc3Qgc3RydWN0RmxvYXQgPSBuZXcgRmxvYXQzMkFycmF5KGluc3RhbmNlLkhFQVBVOC5idWZmZXIsIHN0cnVjdEZsb2F0UHRyLCAxKVswXTtcbiAgICAgICAgY29uc3Qgc3RydWN0SW50QXJyYXlQdHIgPSBuZXcgVWludDMyQXJyYXkoaW5zdGFuY2UuSEVBUFU4LmJ1ZmZlciwgc3RydWN0SW50QXJyYXlQdHJQdHIsIDEpWzBdO1xuICAgICAgICBjb25zdCBzdHJ1Y3RBcnJheVNpemUgPSBuZXcgSW50MzJBcnJheShpbnN0YW5jZS5IRUFQVTguYnVmZmVyLCBzdHJ1Y3RBcnJheVNpemVQdHIsIDEpWzBdO1xuXG4gICAgICAgIGNvbnN0IHN0cnVjdEludEFycmF5ID0gbmV3IEludDMyQXJyYXkoaW5zdGFuY2UuSEVBUFU4LmJ1ZmZlciwgc3RydWN0SW50QXJyYXlQdHIsIHN0cnVjdEFycmF5U2l6ZSk7XG5cbiAgICAgICAgY29uc29sZS5sb2coYFN0cnVjdCBmbG9hdCB2YWx1ZTogJHtzdHJ1Y3RGbG9hdH1gKTtcbiAgICAgICAgY29uc29sZS5sb2coc3RydWN0SW50QXJyYXkpO1xuICAgICAgICBjb25zb2xlLmxvZyhgU3RydWN0IGFycmF5IGxlbmd0aDogJHtzdHJ1Y3RBcnJheVNpemV9YCk7XG5cbiAgICAgICAgLy8gVG9kbyBsbyBxdWUgc2UgcmVzZXJ2YSBlbiBDIHRpZW5lIHF1ZSBib3JyYXJzZS4gU2kgbm8gc2UgdmEgYSBib3JyYXIgZW4gQywgaGF5XG4gICAgICAgIC8vIHF1ZSBib3JyYXJsbyBlbiBKU1xuICAgICAgICBpbnN0YW5jZS5fZnJlZShzdHJ1Y3RJbnRBcnJheVB0cik7ICAvLyBFbCBwdW50ZXJvIGFsIGFycmF5LCBzZSBjcmVhIGNvbiBtYWxsb2Moc2l6ZW9mKGludCkgKiAgYXJyYXlTaXplKVxuICAgICAgICBpbnN0YW5jZS5fZnJlZShzdHJ1Y3RQdHIpOyAvLyBFbCBzdHJ1Y3Qgc2UgY3JlYSBjb24gbmV3IENvbXBsZXhEYXRhXG4gICAgICAgIFxuICAgICAgICAvLyBFbiBlc3RlIGVqZW1wbG8sIHNlIG9idGllbmUgdW4gYXJyYXkgZGVzZGUgQy4gVXNhbW9zIGxhIHTDqWNuaWNhIGRlIGRldm9sdmVyXG4gICAgICAgIC8vIGVuIGVsIHByaW1lciBlbGVtZW50byBkZWwgYXJyYXksIGVsIHRhbWHDsW8gZGVsIG1pc21vLiBFbiBlc3RlIGNhc28gZXNcbiAgICAgICAgLy8gdW4gYXJyYXkgZGUgZmxvYXRzXG4gICAgICAgIGNvbnN0IHRlc3RBcnJheVB0ciA9IGluc3RhbmNlLl9nZXRBcnJheVRlc3QoMzAsIDIgKiAzLjE0MTU5Mik7XG4gICAgICAgIGNvbnN0IHRlc3RBcnJheVNpemUgPSBuZXcgRmxvYXQzMkFycmF5KGluc3RhbmNlLkhFQVBVOC5idWZmZXIsIHRlc3RBcnJheVB0ciwgMSlbMF07XG4gICAgICAgIGNvbnN0IHRlc3RBcnJheSA9IG5ldyBGbG9hdDMyQXJyYXkoaW5zdGFuY2UuSEVBUFU4LmJ1ZmZlciwgdGVzdEFycmF5UHRyICsgNCwgdGVzdEFycmF5U2l6ZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKGB0ZXN0IGFycmF5IGxlbmd0aDogJHt0ZXN0QXJyYXlTaXplfWApO1xuICAgICAgICBjb25zb2xlLmxvZyh0ZXN0QXJyYXkpO1xuXG4gICAgICAgIC8vIEVuIEMgZWwgYXJyYXkgc2UgcmVzZXJ2YSBjb24gbWFsbG9jKHNpemVvZihmbG9hdCkgKiAoc2l6ZSArIDEpKVxuICAgICAgICBpbnN0YW5jZS5fZnJlZSh0ZXN0QXJyYXlQdHIpO1xuXG4gICAgICAgIGNvbnN0IGZBcnJheVB0ciA9IGluc3RhbmNlLl9nZXRGbG9hdEFycmF5KDUwLCAxLjMzKTtcbiAgICAgICAgY29uc3QgZkFycmF5U2l6ZSA9IG5ldyBJbnQzMkFycmF5KGluc3RhbmNlLkhFQVBVOC5idWZmZXIsIGZBcnJheVB0ciwgMSlbMF07XG4gICAgICAgIGNvbnN0IGZBcnJheURhdGFQdHIgPSBuZXcgVWludDMyQXJyYXkoaW5zdGFuY2UuSEVBUFU4LmJ1ZmZlciwgZkFycmF5UHRyICsgNCwgMSlbMF07XG4gICAgICAgIGNvbnN0IGZBcnJheURhdGEgPSBuZXcgRmxvYXQzMkFycmF5KGluc3RhbmNlLkhFQVBVOC5idWZmZXIsIGZBcnJheURhdGFQdHIsIGZBcnJheVNpemUpO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKGZBcnJheURhdGEpO1xuXG4gICAgICAgIGluc3RhbmNlLl9mcmVlRmxvYXRBcnJheShmQXJyYXlQdHIpO1xuXG4gICAgICAgIGNvbnN0IGpzQXJyYXkgPSBbMy40LCA1LjUsIDcuNDMsIDkuMDksIDAuMTIyLCAzNC4xOF07XG4gICAgICAgIGNvbnN0IGpzVHlwZWRBcnJheSA9IG5ldyBGbG9hdDMyQXJyYXkoanNBcnJheSk7XG4gICAgICAgIGNvbnN0IGpzVG9DUHRyID0gaW5zdGFuY2UuX21hbGxvYyhqc1R5cGVkQXJyYXkubGVuZ3RoICoganNUeXBlZEFycmF5LkJZVEVTX1BFUl9FTEVNRU5UKTtcbiAgICAgICAgaW5zdGFuY2UuSEVBUEYzMi5zZXQoanNUeXBlZEFycmF5LCBqc1RvQ1B0ciAvIDQpO1xuICAgICAgICBpbnN0YW5jZS5fcHJpbnRGbG9hdEFycmF5KGpzVG9DUHRyLCBqc0FycmF5Lmxlbmd0aCk7XG4gICAgICAgIGluc3RhbmNlLl9mcmVlKGpzVG9DUHRyKTtcblxuICAgIH0pO1xufSk7XG5cbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxNQUFNLFVBQVUsR0FBRyxNQUFNO0FBQ3pCLElBQUksT0FBTyxJQUFJLE9BQU8sQ0FBQyxDQUFDLE9BQU8sS0FBSztBQUNwQyxRQUFRLE1BQU0sTUFBTSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDeEQsUUFBUSxNQUFNLENBQUMsSUFBSSxHQUFHLGlCQUFpQixDQUFDO0FBQ3hDLFFBQVEsTUFBTSxDQUFDLEdBQUcsR0FBRyxRQUFRLENBQUM7QUFFOUIsUUFBUSxNQUFNLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxrQkFBa0IsR0FBRyxXQUFXO0FBRS9ELFlBQVksT0FBTyxFQUFFLENBQUM7QUFDdEIsVUFBUztBQUNULFFBQVEsUUFBUSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDMUMsS0FBSyxDQUFDO0FBQ04sRUFBQztBQUNEO0FBQ0E7QUFDQSxVQUFVLEVBQUUsQ0FBQyxJQUFJLENBQUMsTUFBTTtBQUN4QixJQUFJLFNBQVMsRUFBRSxDQUFDLElBQUksQ0FBQyxRQUFRLElBQUk7QUFDakMsUUFBUSxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsVUFBVSxFQUFFLFFBQVEsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDdEQsUUFBUSxRQUFRLENBQUMsS0FBSyxFQUFFLENBQUM7QUFDekI7QUFDQTtBQUNBLFFB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
